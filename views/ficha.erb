<title>Hero Sheet: Ficha de <%= @heroe[:name] %></title>
<h1><center><%= @heroe[:name] %></center></h1>
<h3><center><%= @heroe[:jugador] %></center></h3>
<a href=/>Índice</a><br>

<link rel="stylesheet" href="../../app.css" type="text/css" />
<table id='table-2'>
	<thead>
		<tr>
			<th>Rostro</th>
			<th>Nivel</th>
			<th>Reputación</th>
			<th>Atributos</th>
			<th>Combate</th>
			<th>Personaje</th>
			<th>Raza</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>
				<% case @heroe[:sex]
					when "male" %>
						<% case personaje(@heroe[:personaje])
						when "enano" then %>
							<img src="../images/enano.png" alt="rss feed" /, id='icon2'>
						<% when "elfo" then %>
							<img src="../images/elfo.png" alt="rss feed" /, id='icon2'>
						<% when "tiefling" then %>
							<img src="../images/tiefling.png" alt="rss feed" /, id='icon2'>
						<% when "mago" then %>
							<img src="../images/mago.png" alt="rss feed" /, id='icon2'>
						<% when "ladron" then %>
							<img src="../images/ladron.png" alt="rss feed" /, id='icon2'>
						<% when "barbaro" then %>
							<img src="../images/barbaro.png" alt="rss feed" /, id='icon2'>
						<% end%>
					<% when "female" %>
						<% case personaje(@heroe[:personaje])
						when "elfo" then %>
							<img src="../images/elfa.png" alt="rss feed" /, id='icon2'>
						<% when "tiefling" then %>
							<img src="../images/tiefling-female.png" alt="rss feed" /, id='icon2'>
						<% when "mago" then %>
							<img src="../images/maga.png" alt="rss feed" /, id='icon2'>
						<% when "ladron" then %>
							<img src="../images/ladrona.png" alt="rss feed" /, id='icon2'>
						<% when "barbaro" then %>
							<img src="../images/barbara.png" alt="rss feed" /, id='icon2'>
						<% end%>
					<% end %>
			</td>
			<td><%= @heroe[:nivel] %></td>
			<td><%= @heroe[:repu] %></td>
			<td>
				<table id='table-2'>
					<tbody>
						<tr>
							<td>Cuerpo</td>
							<td>Mente</td>
							<td>Movimiento</td>
						</tr>
						<tr>
							<td><%= @heroe[:cuerpo] %></td>
							<td><%= @heroe[:mente] %></td>
							<td><%= @heroe[:mov] %></td>
						</tr>
					</tbody>
				</table>
			</td>
			<td>
				<table id='table-2'>
					<tbody>
						<tr>
							<td>Melee</td>
							<td>Rango</td>
							<td>Defensa</td>
						</tr>
						<tr>
							<td><%= ataque(@heroe[:id]) %></td>
							<td><%= rango(@heroe[:id]) %></td>
							<td><%= defensa(@heroe[:id]) %></td>
						</tr>
					</tbody>
				</table>
			</td>
			<td><%= @heroe[:personaje].capitalize %></td>
			<td><% raza = is_human?(@heroe[:personaje]) ? "humano" : personaje(@heroe[:personaje]) %>
				<%= genderize(raza,@heroe[:sex]).capitalize %></td>
		</tr>
	</tbody>
</table>
<h3><center>Armas</center></h3>
<table id='table-2'>
	<thead>
		<tr>
			<th>ID</th>
			<th>Icono</th>
			<th>Nombre</th>
			<th>Gemas</th>
			<th>Joyas</th>
			<th>Encantamientos</th>
			<th>Runas</th>
		</tr>
	</thead>
	<tbody>
		<% @heroe[:armas].each do |a| %>
			<tr>
				<td><%= a[:id] %></td>
				<td><% img_path = "'../images/armas/#{arma(a[:id])[:name]}.png'" %>
					<img src=<%=img_path%> alt=<%=arma(a[:id])[:name]%>, id='icon' />
				</td>
				<td><%= arma(a[:id])[:name].capitalize %></td>
				<td>
					<% if a[:gemas].nil? %>
						El arma no tiene gemas.
					<% else %>
						<% a[:gemas].each do |g| %>
							<% img_path = "'../../images/treasures/gemas/#{gema(g)[:name]}.png'" %>
							<img src=<%=img_path%> alt=<%=gema(g)[:name]%>, id='icon' />
							<% end %>
					<% end %>
				</td>
				<td><%= a[:joyas] || "El arma no tiene joyas." %></td>
				<td><%= a[:encantamientos] || "Arma mundana" %></td>
				<td><%= a[:runas] || "Sin runas" %></td>
			</tr>
		<% end %>
		<%= "El personaje no tiene ningun arma todavia." if @heroe[:armas].empty? %>
	</tbody>
</table>
<br>
<table id='table-2'>
	<thead>
		<tr>
			<th>Armadura</th>
			<th>Protecciones</th>
			<th>Miscelánea</th>
			<th>Hechizos Conocidos</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>
				<% @heroe[:armaduras].each do |id| %>
					<% img_path = "'../images/armaduras/#{armadura(id)[:name]}.png'" %>
					<img src=<%=img_path%> alt=<%=armadura(id)[:name]%>, id='icon' />
				<% end %>
			</td>
			<td>
				<% if @heroe[:prots].empty? %>
					El personaje no tiene ninguna protección aun.
				<% else %>
					<% @heroe[:prots].each do |objeto|%>
						<% img_path = "'../images/protecciones/#{proteccion(objeto)[:name]}.png'" %>
						<img src=<%=img_path%> alt=<%=proteccion(objeto)[:name]%>, id='icon' />
					<% end %>
				<% end%>
			</td>
			<td>
				<% @heroe[:miscs].each do |id| %>
					<% img_path = "'../images/miscelaneas/#{miscelanea(id)[:name]}.png'" %>
					<img src=<%=img_path%> alt=<%=miscelanea(id)[:name]%>, id='icon' />
				<% end %>
			</td>
			<td>
				<% elements(@heroe[:hechizos]).each do |e| %>	
					<% img_path =  "'../images/elements/#{e}.png'" %>
					<img src=<%=img_path%> alt=<%=e%>, id='icon' />
				<% end %>
				<% unless @heroe[:hechizos].empty? %>
					<br><a href=../spells/<%=@heroe[:id]%>>Lista de hechizos conocidos</a><br>
				<% else %>El personaje no conoce ningun hechizo
				<% end %>					
			</td>
		</tr>
	</tbody>
</table>
<h3><center>Tesoros</center></h3>
<table id='table-2'>
	<thead>
		<tr>
			<th>Gemas</th>
			<th>Runas</th>
			<th>Joyas</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>
				<% @heroe[:gemas].each do |g| %>
					<% img_path = "'../../images/treasures/gemas/#{gema(g)[:name]}.png'" %>
					<img src=<%=img_path%> alt=<%=gema(g)[:name]%>, id='icon' />
				<% end %>
				<%= "El personaje no tiene ninguna gema." if @heroe[:gemas].empty? %>
			</td>
			<td>
				<% @heroe[:runas].each do |r| %>
					<% img_path = "'../../images/treasures/runas/#{runa(r)[:name]}.png'" %>
					<img src=<%=img_path%> alt=<%=runa(r)[:name]%>, id='icon' />
				<% end %>
				<%= "El personaje no tiene ninguna runa." if @heroe[:runas].empty? %>
			</td>
			<td>
				<% @heroe[:joyas].each do |j| %>
					<% img_path = "'../../images/treasures/joyas/#{joya(j)[:name]}.png'" %>
					<img src=<%=img_path%> alt=<%=joya(j)[:name]%>, id='icon' />
				<% end %>
				<%= "El personaje no tiene ninguna joya." if @heroe[:joyas].empty? %>
			</td>
		</tr>
	</tbody>
</table>
<h3><center>Útiles</center></h3>
<table id='table-2'>
	<thead>
		<tr>
			<th>Pociones</th>
			<th>Pergaminos</th>
			<th>Piezas</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>
				<% @heroe[:gemas].each do |g| %>
					<% img_path = "'../../images/treasures/gemas/#{gema(g)[:name]}.png'" %>
					<img src=<%=img_path%> alt=<%=gema(g)[:name]%>, id='icon' />
				<% end %>
				<%= "El personaje no tiene ninguna poción." if @heroe[:gemas].empty? %>
			</td>
			<td>
				<% @heroe[:runas].each do |r| %>
					<% img_path = "'../../images/treasures/runas/#{runa(r)[:name]}.png'" %>
					<img src=<%=img_path%> alt=<%=runa(r)[:name]%>, id='icon' />
				<% end %>
				<%= "El personaje no tiene ningun pergamino." if @heroe[:runas].empty? %>
			</td>
			<td>
				<% @heroe[:joyas].each do |j| %>
					<% img_path = "'../../images/treasures/joyas/#{joya(j)[:name]}.png'" %>
					<img src=<%=img_path%> alt=<%=joya(j)[:name]%>, id='icon' />
				<% end %>
				<%= "El personaje no tiene ninguna pieza." if @heroe[:joyas].empty? %>
			</td>
		</tr>
	</tbody>
</table>