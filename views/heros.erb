<title>HeroSheet: Lista de héroes</title>
<center><img src="images/logo.png" alt="Proyecto Heroquest" /></center>
<link rel="stylesheet" href="app.css" type="text/css" />

<table id='table-2'>
	<thead>
		<tr>
			<th>Icono</th>
			<th>Héroe</th>
			<th>Personaje</th>
			<th>Nivel</th>
			<th>Reputación</th>
			<th>Hechizos Conocidos</th>
			<th><a href=/armas>Armas</a></th>
			<th><a href=/armaduras>Armaduras</a></th>
			<th><a href=/protecciones>Protecciones</a></th>	
			<th><a href=/miscelaneas>Miscelaneas</a></th>		
			<th><a href=/familiares>Familiares</a></th>
		</tr>
	</thead>
	<tbody>
		<% heros.each do |hero| %>
			<tr>
				<td><% case hero[:sex]
							when "male" %>
							<% case personaje(hero[:personaje])
								when "enano" then %>
									<img src="images/enano.png" alt="rss feed" /, id='icon'>
								<% when "elfo" then %>
									<img src="images/elfo.png" alt="rss feed" /, id='icon'>
								<% when "tiefling" then %>
									<img src="images/tiefling.png" alt="rss feed" /, id='icon'>
								<% when "mago" then %>
									<img src="images/mago.png" alt="rss feed" /, id='icon'>
								<% when "ladron" then %>
									<img src="images/ladron.png" alt="rss feed" /, id='icon'>
								<% when "barbaro" then %>
									<img src="images/barbaro.png" alt="rss feed" /, id='icon'>
							<% end%>
							<% when "female" %>
								<% case personaje(hero[:personaje])
									when "elfo" then %>
										<img src="images/elfa.png" alt="rss feed" /, id='icon'>
									<% when "tiefling" then %>
										<img src="images/tiefling-female.png" alt="rss feed" /, id='icon'>
									<% when "mago" then %>
										<img src="images/maga.png" alt="rss feed" /, id='icon'>
									<% when "ladron" then %>
										<img src="images/ladrona.png" alt="rss feed" /, id='icon'>
									<% when "barbaro" then %>
										<img src="images/barbara.png" alt="rss feed" /, id='icon'>
									<% end%>
						<% end %>
				</td>
				<td><a href=hero/<%= hero[:id] %>><%= hero[:name] %></a><br>
					<i><%= hero[:jugador] %></i>
				</td>
				<td>
					<%= genderize(personaje(hero[:personaje]),hero[:sex]).capitalize %><br>
					<i><%= hero[:personaje].capitalize.gsub('Lord','Señor') %></i>
				</td>
				<td><%= hero[:nivel] %></td>
				<td><%= hero[:repu] %></td>
				<td><% elements(hero[:hechizos]).each do |e| %>	
						<% img_path =  "'images/elements/#{e}.png'" %>
						<img src=<%=img_path%> alt=<%=e%>, id='icon' />
					<% end %>						
				</td>
				<td>
					<table id='table-2'>
						<tbody>
							<tr>
								<% hero[:armas].each do |a| %>
									<td><div class="information_popup_container">
										<div class="information">
											<% img_path = "'images/armas/#{arma(a[:id])[:name]}.png'" %>
											<img src=<%=img_path%> alt=<%=arma(a[:id])[:name]%>, id='icon' /> 
										</div>
										<div class="popup_information">
											<% img_path = "'images/armas/#{arma(a[:id])[:name]}.png'" %>
											<center><h3>
												<%=arma(a[:id])[:name].capitalize %><br><br>
												<img src=<%=img_path%> alt=<%=arma(a[:id])[:name]%>, id='icon3' /> 
											</h3></center>
											<li>Valor de ataque: <%=arma(a[:id])[:powa] %></li>
											<%= "<li>Permite atacar en diagonal</li>" if arma(a[:id])[:diagonal] %>
											<h4>Engarces</h4>
												<% if (a[:gemas].nil? && a[:joyas].nil? && a[:runas].nil? && a[:ranuras].nil? ) %>
													El arma no tiene engarces.
												<% else %>
													<% if a[:gemas] %>
														<% a[:gemas].each do |g| %>
															<% img_path = "'../../images/treasures/gemas/#{gema(g)[:name]}.png'" %>
															<img src=<%=img_path%> alt=<%=gema(g)[:name]%>, id='icon' />
														<% end %>
													<% end %>
													<% if a[:joyas] %>						
														<% a[:joyas].each do |j| %>
															<% img_path = "'../../images/treasures/joyas/#{joya(j)[:name]}.png'" %>
															<img src=<%=img_path%> alt=<%=joya(j)[:name]%>, id='icon' />
														<% end %>
													<% end%>
													<% if a[:runas] %>
														<% a[:runas].each do |r| %>
															<% img_path = "'../../images/treasures/runas/#{runa(r)[:name]}.png'" %>
															<img src=<%=img_path%> alt=<%=runa(r)[:name]%>, id='icon' />
														<% end %>
													<% end %>
													<% if a[:ranuras] %>
														<% a[:ranuras].times do %>
															<% img_path = "'../../images/treasures/socket.png'" %>
															<img src=<%=img_path%> alt='ranura-hueca', id='icon' />
															<% end %>						
													<% end %>						
												<% end %>
											<% if a[:enchants] %>	
												<h4>Propiedades mágicas</h4>
												<% a[:enchants].each do |e| %>
													<li><%= enchant(e)[:name].capitalize %>
												<% end %>
											<% end %>	
										</div>
									</div></td>
								<% end %>
							</tr>
						</tbody>
					</table>
				</td>
				<td>
					<% hero[:armaduras].each do |id| %>
						<div class="information_popup_container">
							<div class="information">
								<% img_path = "'images/armaduras/#{armadura(id)[:name]}.png'" %>
								<img src=<%=img_path%> alt=<%=armadura(id)[:name]%>, id='icon' /> 
							</div>
							<div class="popup_information">
								<center><h3>	
									<%=armadura(id)[:name].capitalize %><br><br>
									<img src=<%=img_path%> alt=<%=armadura(id)[:name]%>, id='icon3' />
								</h3></center>
								<li>Valor defensivo: <%=armadura(id)[:powa] %></li>
								<li>Tipo: <%=armadura(id)[:categoria].capitalize %></li>
								<li>Gemas: -sin gemas-</li>
							</div>
						</div>
					<% end %>
				</td>
				<td>
					<table id='table-2'>
						<tbody>
							<tr>
								<% hero[:prots].each do |p| %>
									<td><div class="information_popup_container">
										<div class="information">
											<% img_path = "'images/protecciones/#{proteccion(p)[:name]}.png'" %>
											<img src=<%=img_path%> alt=<%=proteccion(p)[:name]%>, id='icon' /> 
										</div>
										<div class="popup_information">
											<% img_path = "'images/protecciones/#{proteccion(p)[:name]}.png'" %>
											<center><h3>
												<%=proteccion(p)[:name].capitalize %><br><br>
												<img src=<%=img_path%> alt=<%=proteccion(p)[:name]%>, id='icon3' /> 
											</h3></center>
											<li>Potencia defensiva: <%=proteccion(p)[:powa] %></li>	
										</div>
									</div></td>
								<% end %>
							</tr>
						</tbody>
					</table>
				</td>
				<td>
					<table id='table-2'>
						<tbody>
							<tr>
								<% hero[:miscs].each do |m| %>
									<td><div class="information_popup_container">
										<div class="information">
											<% img_path = "'images/miscelaneas/#{miscelanea(m)[:name]}.png'" %>
											<img src=<%=img_path%> alt=<%=miscelanea(m)[:name]%>, id='icon' /> 
										</div>
										<div class="popup_information">
											<% img_path = "'images/miscelaneas/#{miscelanea(m)[:name]}.png'" %>
											<center><h3>
												<%=miscelanea(m)[:name].capitalize %><br><br>
												<img src=<%=img_path%> alt=<%=miscelanea(m)[:name]%>, id='icon3' /> 
											</h3></center>
										</div>
									</div></td>
								<% end %>
							</tr>
						</tbody>
					</table>
				</td>
				<td>
					<% hero[:pets].each do |id| %>
						<div class="information_popup_container">
							<div class="information">
								<% img_path = "'images/pets/#{pet(id)[:name]}.png'" %>
								<img src=<%=img_path%> alt=<%=pet(id)[:name]%>, id='icon' /> 
							</div>
							<div class="popup_information">
								<center><h3>	
									<%=pet(id)[:name].capitalize %><br>
									<img src=<%=img_path%> alt=<%=pet(id)[:name]%>, id='icon3' />
								</h3></center>
							</div>
						</div>						
					<% end %>
				</td>
			</tr>
		<% end %>
	</tbody>
</table>


